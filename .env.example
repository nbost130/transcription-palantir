# ðŸ”® Transcription Palantir Configuration

# =============================================================================
# CORE SETTINGS
# =============================================================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=info
SERVICE_NAME=transcription-palantir

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# =============================================================================
# WHISPER CONFIGURATION
# =============================================================================
WHISPER_MODEL=small
WHISPER_BINARY_PATH=/usr/local/bin/whisper
COMPUTE_TYPE=int8
WHISPER_LANGUAGE=auto
WHISPER_TASK=transcribe

# =============================================================================
# FILE PROCESSING
# =============================================================================
WATCH_DIRECTORY=/Users/nbost/Audio-To-Process
OUTPUT_DIRECTORY=/Users/nbost/transcripts
COMPLETED_DIRECTORY=/Users/nbost/transcripts/completed
FAILED_DIRECTORY=/Users/nbost/transcripts/failed

# File size limits (in MB)
MAX_FILE_SIZE=500
MIN_FILE_SIZE=0.1

# Supported audio formats (comma-separated)
SUPPORTED_FORMATS=mp3,wav,m4a,flac,ogg,mp4,mov

# =============================================================================
# WORKER CONFIGURATION
# =============================================================================
MAX_WORKERS=4
MIN_WORKERS=1
WORKER_CONCURRENCY=1
JOB_TIMEOUT=3600000
MAX_JOB_ATTEMPTS=3
BACKOFF_DELAY=5000

# =============================================================================
# QUEUE CONFIGURATION
# =============================================================================
QUEUE_NAME=transcription
QUEUE_PREFIX=palantir
REMOVE_ON_COMPLETE=100
REMOVE_ON_FAIL=50

# Job priorities
PRIORITY_URGENT=1
PRIORITY_HIGH=2
PRIORITY_NORMAL=3
PRIORITY_LOW=4

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_PREFIX=/api/v1
CORS_ORIGIN=*
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000

# =============================================================================
# MONITORING & HEALTH
# =============================================================================
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true
PROMETHEUS_PORT=9090

# =============================================================================
# SECURITY
# =============================================================================
API_KEY=your-secret-api-key-here
JWT_SECRET=your-jwt-secret-here
HELMET_ENABLED=true

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
DEV_WATCH_ENABLED=true
DEV_MOCK_WHISPER=false
DEV_SAMPLE_AUDIO_DIR=/Users/nbost/dev/transcription-palantir/audio-samples

# =============================================================================
# PRODUCTION SETTINGS (Override in .env.production)
# =============================================================================
# REDIS_HOST=redis.mithrandir.local
# WATCH_DIRECTORY=/mnt/data/whisper-batch/inbox
# OUTPUT_DIRECTORY=/mnt/data/whisper-batch/completed/transcripts
# MAX_WORKERS=8
# LOG_LEVEL=warn
